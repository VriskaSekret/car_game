[gd_scene load_steps=7 format=3 uid="uid://be1mi7mimuwfx"]

[ext_resource type="PackedScene" uid="uid://dbl4bno5e48ka" path="res://car.tscn" id="3_jaglt"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_74a4f"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_pcewp"]
sky_material = SubResource("ProceduralSkyMaterial_74a4f")

[sub_resource type="Environment" id="Environment_pk4ow"]
background_mode = 2
sky = SubResource("Sky_pcewp")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="GDScript" id="GDScript_ia1lp"]
script/source = "extends Camera3D

@export var lerp_speed = 3.0
@export var offset = Vector3.ZERO
@export var target : Node


func _physics_process(delta):
	if !target:
		return
	var target_pos = target.global_transform.translated_local(offset)
	global_transform = global_transform.interpolate_with(target_pos, lerp_speed * delta)
	look_at(target.global_position, Vector3.UP)
"

[sub_resource type="Curve3D" id="Curve3D_uhqqe"]
closed = true
_data = {
"points": PackedVector3Array(25.0205, 0, 21.7763, -25.0205, 0, -21.7763, 96.664, -11.5402, 7.10148, -9.38312, 0, 26.7697, 9.38312, 0, -26.7697, -7.88136, -1.13407, -27.717, 15.7989, 0, 5.99489, -15.7989, 0, -5.99489, 35.5652, 0, -72.4219, 12.878, 0, -9.97947, -12.878, 0, 9.97947, -67.5224, 18.5302, -93.1304, -0.193321, 0, -22.7995, 0.193321, 0, 22.7995, -91.6307, 0, -21.0404, -19.3915, 0, -16.5213, 19.3915, 0, 16.5213, -69.4804, -8.20654, 31.5902, 0.555639, 0, -30.5591, -0.555639, 0, 30.5591, -8.79904, 8.16074, 66.7543, -10.7517, 0, -27.156, 10.7517, 0, 27.156, -37.2267, 0, 111.536, 0, 0, 0, 0, 0, 0, 4.50465, -19.5019, 131.339, 0, 0, 0, 0, 0, 0, 75.7078, -4.72199, 113.439, -4.08147, 0, 23.9638, 4.08147, 0, -23.9638, 119.908, 0, 59.4919),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 11

[node name="TestScene" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_pk4ow")

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 6)
script = SubResource("GDScript_ia1lp")
offset = Vector3(2.08165e-12, 3, 4)
target = NodePath("../Car/CarMesh")

[node name="Car" parent="." instance=ExtResource("3_jaglt")]

[node name="Path3D" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.65138, 0, 16.1946)
curve = SubResource("Curve3D_uhqqe")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Path3D"]
use_collision = true
polygon = PackedVector2Array(0, 0, 0, 0.2, 5, 0.2, 5, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = true

[node name="CSGPolygon3D2" type="CSGPolygon3D" parent="Path3D"]
use_collision = true
polygon = PackedVector2Array(0, 0, 0, 1, 0.2, 1, 0.2, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false

[node name="CSGPolygon3D3" type="CSGPolygon3D" parent="Path3D"]
use_collision = true
polygon = PackedVector2Array(0.8, 0, 0.8, 1, 1, 1, 1, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false

[editable path="Car"]
[editable path="Car/CarMesh"]
